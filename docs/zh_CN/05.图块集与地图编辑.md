 # Ludork：2D RPG 工具包 - 帮助手册
 ## 图块集与地图编辑

 本章聚焦于如何通过**图块集（Tilesets）**和**地图（Maps）**搭建游戏的可视布局。图块集提供基础的图形元素，地图则负责将这些图块组合成可游玩的区域。

 ### 图块集概览

 **图块集**是若干图块打包在一起的图片集合。每个图块通常是尺寸一致的小方块或小矩形，用于表示：
 - 一块地形（草地、水面、墙壁、道路等）。
 - 一种装饰元素（植物、家具、道具摆设等）。
 - 一个功能元素（门、开关、梯子等）。

 图块集让你可以在多个地图中复用同一套图形，同时仍然能够控制每个图块在游戏中的行为。

 从概念上看，每个图块集定义包括：
 - 对项目资源目录中一张或多张图块集图片的引用。
 - 图块尺寸（例如 32×32 像素）。
 - 针对每个图块的属性设置，例如是否可通行、是否阻挡角色移动等。

 ### 打开图块集编辑器

 要编辑图块集：
 - 在编辑器中打开你的项目。
 - 通过项目/文件面板，定位到项目 `Data/Tilesets` 下的图块集数据。
 - 打开某个图块集条目，进入**图块集编辑器**。

 图块集编辑器通常会显示：
 - 以网格形式展示的图块集图片。
 - 用于设置图块尺寸及其他图块集级别选项的控件。
 - 用于查看和调整单个图块或图块块区域属性的面板或工具。

 ### 创建新图块集

 要为项目创建一个新的图块集：
 - 在编辑器的图块集管理区域中创建一个新的图块集条目。
 - 从项目的资源目录中选择一张图块集图片（例如专门用于图块集的子目录）。
 - 设置图块尺寸，使网格正确对齐到图片上。

 接下来你可以：
 - 为图块集起一个描述性名称。
 - 保存后，该图块集就可以在地图编辑器中作为可复用资源使用。

 编辑器会将图块集定义存放在 `Data/Tilesets` 下，并通过路径引用图片，而不会复制原始文件。

 ### 图块属性

 除了选择图块本身，你还可以通过为图块设置属性来定义其行为。常见示例包括：
 - **通行性（Passability）**：角色是否可以通过该图块、或者会被阻挡。
 - **图层/绘制顺序提示**：图块是绘制在角色之下还是之上。
 - **特殊标签或分类**：例如将某些图块标记为水、岩浆或特定区域类型。

 在图块集编辑器中，你通常会：
 - 在网格中选中一个或一块区域的多个图块。
 - 在属性面板或工具栏中调整它们的属性。
 - 保存图块集，使使用该图块的地图获得更新后的行为。

 这些属性会作为图块集数据的一部分保存，在游戏运行时由引擎进行解释。

 ### 地图概览

 **地图**是基于一个或多个图块集搭建的 2D 布局，用于定义：
 - 可游玩区域的尺寸（宽度与高度，以图块为单位）。
 - 每一层上每一个位置所使用的图块。
 - 额外的元数据，例如区域信息或光源配置等。

 地图是构建关卡、城镇、迷宫以及其他可探索场景的核心。

 ### 创建与打开地图

 要创建新地图：
 - 在编辑器中的地图管理区域中创建新的地图条目。
 - 指定地图的尺寸（宽和高的图块数）。
 - 选择该地图将使用的图块集。

 要编辑已有地图：
 - 在文件浏览器中定位项目的地图数据条目。
 - 打开它，让地图编辑器在中央工作区中显示该地图。

 地图编辑器会同时加载地图数据和相关图块集，方便你立即开始绘制。

 ### 地图编辑器基础操作

 地图编辑器围绕两个核心区域展开：
 - **图块集区域（Tileset Area）**：用于选择单个图块或图块块区域，作为画笔。
 - **地图区域（Map Area）**：用于在地图网格上绘制这些图块。

 在地图编辑器中常见的操作包括：
 - 在图块集区域点击或拖拽，选择一个图块或矩形区域。
 - 在地图区域中使用画笔、矩形、填充等工具绘制图块。
 - 擦除或替换已有图块。
 - 在不同图层之间切换（例如地面、装饰、头顶元素等）。

 编辑器会在光标移动时提供视觉提示，帮助你看清当前准备放置的图块和目标位置。

 ### 图层与深度

 地图通常通过多层结构来区分不同类型的内容：
 - **基础层**：用于地形和可行走的表面。
 - **装饰层**：用于树木、石块、家具等细节元素。
 - **上层**：用于显示在角色上方的元素，例如树冠、阳台等。

 在编辑器中，你可以：
 - 选择当前正在编辑的图层，并在该图层上进行绘制。
 - 根据需要隐藏或显示某些图层，以便专注于地图的某一部分。
 - 在支持的情况下调整层级顺序，从而改变绘制顺序与视觉深度。

 运行时引擎会根据图层信息决定哪些图块绘制在角色之前或之后。

 ### 在地图中利用图块属性

 图块属性会直接影响地图在运行时的行为。例如：
 - 被标记为不可通行的图块，会阻挡角色在任何使用该图块的地图上的移动。
 - 带有特殊标签的图块可以被玩法逻辑使用，例如触发特定事件或影响移动代价。

 由于同一个图块集可以在多个地图中复用：
 - 在图块集中修改某个图块的属性，会影响到所有使用该图块的地图。
 - 这使得你可以在整个项目中统一调整行为，而无需一张一张地图单独修改。

 在调整图块属性时，尤其需要留意当前项目中已经使用这些图块的地图数量与范围。

 ### 地图中的附加数据

 除了可见的图块本身，地图还可以包含许多附加数据，例如：
 - 用于随机遇敌或特殊规则的区域定义。
 - 光源与环境效果设置。
 - 角色、交互对象或供玩法逻辑使用的标记位置。

 这些内容一般通过地图编辑器中的专用工具或面板进行编辑。图块负责决定地图“长什么样”，而这些附加数据则决定地图“如何运作”。

